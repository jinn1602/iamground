/*  */ function __init_search(){function a(){attach_navSearch(),NAVER.launch("nmap",$("#mapIcon").attr("src")),NAVER.getIconCo($("#mapIconCo").attr("src"));var a=new Date(SERVER.time),b=a.getDate(),c=a.getMonth()%12,d=a.getFullYear(),e=new Date(d,c,b+29),f=["일","월","화","수","목","금","토"];$("#calendar_helper").html("📅 예약 가능 날짜 : 오늘 ~ "+$.datepicker.formatDate("mm.dd",e)+" ("+f[e.getDay()]+")</br># 오늘 포함 30일만큼의 일정만 예약가능합니다");var g=0;a.getHours()<6&&(g=-1),a.setDate(a.getDate()+g),$("#calendar").datepicker("setDate",a),attach_toggler()}CORE.toggleScroll(),CORE.loading(),__init_search_local(),a(),CORE.view.setLeftHeight(),CORE.view.affixLeft(),navigator.userAgent.toLowerCase().indexOf("rv:11")!=-1&&$("footer").css("left","calc(50vw - 600px)")}function toFacArray(a){for(var b={},c=0;c<a.length;c++)b[c+1]=a[c];return b}function toPicArray(a){for(var b={},c=0;c<a.length;c++)void 0===b[a[c].fNum]&&(b[a[c].fNum]={}),b[a[c].fNum][a[c].pNum]=a[c];return b}function toReservArray(a){for(var b={},c=0;c<a.length;c++)b[c+1]=a[c];return b}function attach_navSearch(){function a(){for(var a=0;a<SEARCH.tags.length;a++)if("iSearch"==SEARCH.tags[a].action){SEARCH.tags.splice(a,1);break}}function b(a){SEARCH.tags.push({action:"iSearch",string:$("#iSearch").val(),remove:function(){$("#iSearch").val("");for(var a=0;a<SEARCH.tags.length;a++)if("iSearch"==SEARCH.tags[a].action){SEARCH.tags.splice(a,1);break}}}),$.ajax({dataType:"json",method:"POST",url:"/api/v1/common/saveSearchWord",data:{service:SERVER.service,searchword:$("#iSearch").val(),searchtyping:a,user_agent:"PC",page:"SEARCH"}})}$("nav>.container-fluid>.col-xs-9").append('<div class="input-group navbar-left"><i class="glyphicon glyphicon-search"></i><input class="form-control" type="text" data-placement="left" id="iSearch" value="" placeholder="장소" data-toggle="tooltip" data-original-title="찾고 싶은 경기장의 위치를 간단하게 입력해주세요. 구나 동도 좋고 구장 이름도 좋습니다." ><div class="placeSelect" id="placeSelect"></div></div>');var c="";window.location.search.split("?").length>1&&(c=window.location.search.split("?")[1]);var d="&"+c;$("#iSearch").autocomplete({source:SEARCH.url+"&limit=2000"+d,delay:10,appendTo:"#placeSelect",focus:function(a,b){a.preventDefault()},response:function(a,b){autoCnt=b.content.length},select:function(c,d){var e=$("#iSearch").val();$("#iSearch").val(d.item.value),a(),b(e),startSearch()},close:function(){}}),$(function(){$("[data-toggle='tooltip']").tooltip({container:"body",trigger:"focus"})}),$(window).on("resize scroll",function(){$("[data-toggle='tooltop']").tooltip("hide")}),$("footer").addClass("hide"),$(window).on("resize scroll",function(){$(window).scrollTop()<=80?$("footer").addClass("hide"):$("footer").removeClass("hide")}),$("#iSearch").keydown(function(c){if(13==c.which){if($(this).val($(this).val().replace(/[^0-9a-zA-Z가-힣\[\]\(\)\ \&]/g,"")),$(this).blur(),""===$("#iSearch").val())return;var d=$("#iSearch").val();a(),b(d),startSearch()}}),$("nav .input-group>i.glyphicon-search").click(function(){if($(this).val($(this).val().replace(/[^0-9a-zA-Z가-힣\[\]\(\)\ \&]/g,"")),$(this).blur(),""!==$("#iSearch").val()){var c=$("#iSearch").val();a(),b(c),startSearch()}}),$.ui.autocomplete.prototype._renderItem=function(a,b){c=this.term.replace(")","\\)").replace("(","\\(");var c,d;" "==c.slice(0,1)&&(c=" "==c.slice(1,2)?"":c.slice(1)),c=$.trim(c).split(" ").join("|");var e=new RegExp("("+c+")","gi"),f='<div class="placeSelectBox"><div class="placeSelectBox-left"><div class="placeName">'+b.value+'</div><div class="placeAddress">'+b.fAddress+"</div></div></div>";return d="/()/gi"!=e?f.replace(e,"<span class='text-point'><strong>$1</strong></span>"):f,$("<li></li>").data("item.autocomplete",b).append("<a>"+d+"</a>").appendTo(a)},SEARCH.view.calendar.redefineUpdate()}function register_global(){SEARCH.STRING={seoul:["도봉, 강북, 성북, 노원","동대문, 중랑, 성동, 광진","강동, 송파","서초, 강남","동작, 관악, 금천","강서, 양천, 영등포, 구로","은평, 마포, 서대문","종로, 중구, 용산"],gyeonggi_incheon:["의정부, 양주, 동두천","구리, 남양주, 하남, 광주","성남, 용인, 수원, 화성, 오산","과천, 안양, 군포, 의왕, 광명, 시흥, 안산","인천, 부천, 김포","고양, 파주","이천","평택"],chungbuk:["","","","청주"],chungnam_daejeon:["천안, 아산","대전","","","",""],gyeongbuk_daegu:["포항, 경주","대구, 경산","구미, 칠곡","","","","",""],gyeongnam_busan_ulsan:["부산, 울산, 김해, 양산","통영","창원, 함안","진주","","",""],jeonbuk:["","","군산, 익산, 김제","전주, 완주","","","",""],jeonnam_gwangju:["광주, 담양","","여수, 광양, 순천","","","",""],jeju:["제주, 서귀포"],etc:[],img:{floor:{"천연잔디":"/img/icons/chun.png","인조잔디":"/img/icons/in.png","모래":"/img/icons/mo.png","인도어":"/img/icons/ur.png","스포츠코트":"/img/icons/ur.png","우레탄":"/img/icons/ur.png","마루(목재)":"/img/icons/wood.png","아스팔트":"/img/icons/asphalt.png","":"/img/icons/unknown.png"},lighting:{O:"/img/icons/jo.png","":"/img/icons/unknown.png",X:"/img/icons/jox.png"},temp:{O:"/img/icons/new/temp.svg","냉난":"/img/icons/new/svg/temp.svg","냉":"/img/icons/new/svg/tempcool.svg","난":"/img/icons/new/svg/tempheat.svg","":"/img/icons/new/svg/tempx.svg",X:"/img/icons/new/svg/tempx.svg"},parking:{O:"/img/icons/new/svg/ju.svg","":"/img/icons/new/svg/jux.svg",X:"/img/icons/new/svg/jux.svg"},shower:{O:"/img/icons/new/svg/sh.svg","":"/img/icons/new/svg/shx.svg",X:"/img/icons/new/svg/shx.svg"},ballrent:{O:"/img/icons/new/svg/ballrent.svg","":"/img/icons/new/svg/ballrentx.svg",X:"/img/icons/new/svg/ballrentx.svg"},vestrent:{O:"/img/icons/new/svg/vestrent.svg","":"/img/icons/new/svg/vestrentx.svg",X:"/img/icons/new/svg/vestrentx.svg"},shoesrent:{O:"/img/icons/new/svg/shoesrent.svg","":"/img/icons/new/svg/shoesrentx.svg",X:"/img/icons/new/svg/shoesrentx.svg"}},"class":{lighting:{O:"have","":"nohave",X:"nohave"},temp:{O:"have","냉난":"have","냉":"have","난":"have","":"nohave",X:"nohave"},parking:{O:"have","":"nohave",X:"nohave"},shower:{O:"have","":"nohave",X:"nohave"},ballrent:{O:"have","":"nohave",X:"nohave"},vestrent:{O:"have","":"nohave",X:"nohave"},shoesrent:{O:"have","":"nohave",X:"nohave"}},floor:{1:"천연잔디",2:"인조잔디",3:"모래",4:"인도어",5:"우레탄",6:"마루(목재)",7:"아스팔트","":"알 수 없음"},lighting:{O:"조명 있음",X:"조명 없음","":"알 수 없음"},temp:{O:"냉/난방시설 있음","냉난":"냉/난방시설 있음","냉":"냉방시설 있음","난":"난방시설 있음",X:"냉/난방시설 없음","":"알 수 없음"},parking:{O:"주차장 있음",X:"주차장 없음","":"알 수 없음"},shower:{O:"샤워실 있음",X:"샤워실 없음","":"알 수 없음"},size:{1:"11",2:"10",3:"9",4:"8",5:"7",6:"6",7:"5",8:"4",9:"3"}},"fut"!=SERVER.service&&(SEARCH.STRING.img.temp={O:"/img/icons/temp.png","냉난":"/img/icons/temp.png","냉":"/img/icons/temp.png","난":"/img/icons/temp.png","":"/img/icons/unknown.png",X:"/img/icons/tempx.png"},SEARCH.STRING.img.parking={O:"/img/icons/ju.png","":"/img/icons/unknown.png",X:"/img/icons/jux.png"},SEARCH.STRING.img.shower={O:"/img/icons/sh.png","":"/img/icons/unknown.png",X:"/img/icons/shx.png"}),SEARCH.tags=[],SEARCH.badge=[],SEARCH.date={getOffset:function(){var a=new RegExp("^([0-9]{2})/([0-9]{2})/"),b=parseInt(a.exec($("#calendar").val())[1]),c=parseInt(a.exec($("#calendar").val())[2]),d=new Date(SERVER.time),e=d.getMonth()+1,f=d.getDate();return e==b?c-f:new Date(d.getFullYear(),e,0).getDate()-f+c}},SEARCH.queryString={setLocation:function(){var a=SEARCH.queryString.getLocation();switch(a){case"seoul":SEARCH.view.minimap.push(201,SEARCH.STRING.seoul),SEARCH.view.minimap.push(202,SEARCH.STRING.seoul),SEARCH.view.minimap.push(203,SEARCH.STRING.seoul),SEARCH.view.minimap.push(204,SEARCH.STRING.seoul),SEARCH.view.minimap.push(205,SEARCH.STRING.seoul),SEARCH.view.minimap.push(206,SEARCH.STRING.seoul),SEARCH.view.minimap.push(207,SEARCH.STRING.seoul),SEARCH.view.minimap.push(208,SEARCH.STRING.seoul);break;case"north":SEARCH.view.minimap.push(201,SEARCH.STRING.seoul);break;case"east":SEARCH.view.minimap.push(202,SEARCH.STRING.seoul);break;case"eastsouth":SEARCH.view.minimap.push(203,SEARCH.STRING.seoul);break;case"gangnam":SEARCH.view.minimap.push(204,SEARCH.STRING.seoul);break;case"south":SEARCH.view.minimap.push(205,SEARCH.STRING.seoul);break;case"westsouth":SEARCH.view.minimap.push(206,SEARCH.STRING.seoul);break;case"west":SEARCH.view.minimap.push(207,SEARCH.STRING.seoul);break;case"central":SEARCH.view.minimap.push(208,SEARCH.STRING.seoul);break;case"gyeonggi":SEARCH.view.minimap.push(311,SEARCH.STRING.gyeonggi_incheon),SEARCH.view.minimap.push(312,SEARCH.STRING.gyeonggi_incheon),SEARCH.view.minimap.push(313,SEARCH.STRING.gyeonggi_incheon),SEARCH.view.minimap.push(314,SEARCH.STRING.gyeonggi_incheon),SEARCH.view.minimap.push(315,SEARCH.STRING.gyeonggi_incheon),SEARCH.view.minimap.push(316,SEARCH.STRING.gyeonggi_incheon),SEARCH.view.minimap.push(317,SEARCH.STRING.gyeonggi_incheon),SEARCH.view.minimap.push(318,SEARCH.STRING.gyeonggi_incheon);break;case"uijeongbu":SEARCH.view.minimap.push(311,SEARCH.STRING.gyeonggi_incheon);break;case"dongducheon":SEARCH.view.minimap.push(311,SEARCH.STRING.gyeonggi_incheon);break;case"yangju":SEARCH.view.minimap.push(311,SEARCH.STRING.gyeonggi_incheon);break;case"guri":SEARCH.view.minimap.push(312,SEARCH.STRING.gyeonggi_incheon);break;case"namyangju":SEARCH.view.minimap.push(312,SEARCH.STRING.gyeonggi_incheon);break;case"hanam":SEARCH.view.minimap.push(312,SEARCH.STRING.gyeonggi_incheon);break;case"gwangju1":SEARCH.view.minimap.push(312,SEARCH.STRING.gyeonggi_incheon);break;case"seongnam":SEARCH.view.minimap.push(313,SEARCH.STRING.gyeonggi_incheon);break;case"yongin":SEARCH.view.minimap.push(313,SEARCH.STRING.gyeonggi_incheon);break;case"suwon":SEARCH.view.minimap.push(313,SEARCH.STRING.gyeonggi_incheon);break;case"hwaseong":SEARCH.view.minimap.push(313,SEARCH.STRING.gyeonggi_incheon);break;case"osan":SEARCH.view.minimap.push(313,SEARCH.STRING.gyeonggi_incheon);break;case"gwacheon":SEARCH.view.minimap.push(314,SEARCH.STRING.gyeonggi_incheon);break;case"anyang":SEARCH.view.minimap.push(314,SEARCH.STRING.gyeonggi_incheon);break;case"gunpo":SEARCH.view.minimap.push(314,SEARCH.STRING.gyeonggi_incheon);break;case"uiwang":SEARCH.view.minimap.push(314,SEARCH.STRING.gyeonggi_incheon);break;case"gwangmyeong":SEARCH.view.minimap.push(314,SEARCH.STRING.gyeonggi_incheon);break;case"siheung":SEARCH.view.minimap.push(314,SEARCH.STRING.gyeonggi_incheon);break;case"ansan":SEARCH.view.minimap.push(314,SEARCH.STRING.gyeonggi_incheon);break;case"incheon":SEARCH.view.minimap.push(315,SEARCH.STRING.gyeonggi_incheon);break;case"bucheon":SEARCH.view.minimap.push(315,SEARCH.STRING.gyeonggi_incheon);break;case"gimpo":SEARCH.view.minimap.push(315,SEARCH.STRING.gyeonggi_incheon);break;case"goyang":SEARCH.view.minimap.push(316,SEARCH.STRING.gyeonggi_incheon);break;case"paju":SEARCH.view.minimap.push(316,SEARCH.STRING.gyeonggi_incheon);break;case"icheon":SEARCH.view.minimap.push(317,SEARCH.STRING.gyeonggi_incheon);break;case"pyeongtaek":SEARCH.view.minimap.push(318,SEARCH.STRING.gyeonggi_incheon);break;case"chungnam":SEARCH.view.minimap.push(411,SEARCH.STRING.chungnam_daejeon),SEARCH.view.minimap.push(412,SEARCH.STRING.chungnam_daejeon);break;case"cheonan":SEARCH.view.minimap.push(411,SEARCH.STRING.chungnam_daejeon);break;case"asan":SEARCH.view.minimap.push(411,SEARCH.STRING.chungnam_daejeon);break;case"daejeon":SEARCH.view.minimap.push(412,SEARCH.STRING.chungnam_daejeon);break;case"chungbuk":SEARCH.view.minimap.push(434,SEARCH.STRING.chungbuk);break;case"cheongju":SEARCH.view.minimap.push(434,SEARCH.STRING.chungbuk);break;case"gyeongbuk":SEARCH.view.minimap.push(541,SEARCH.STRING.gyeongbuk_daegu),SEARCH.view.minimap.push(542,SEARCH.STRING.gyeongbuk_daegu),SEARCH.view.minimap.push(543,SEARCH.STRING.gyeongbuk_daegu);break;case"pohang":SEARCH.view.minimap.push(541,SEARCH.STRING.gyeongbuk_daegu);break;case"gyeongju":SEARCH.view.minimap.push(541,SEARCH.STRING.gyeongbuk_daegu);break;case"daegu":SEARCH.view.minimap.push(542,SEARCH.STRING.gyeongbuk_daegu);break;case"gyeongsan":SEARCH.view.minimap.push(542,SEARCH.STRING.gyeongbuk_daegu);break;case"gumi":SEARCH.view.minimap.push(543,SEARCH.STRING.gyeongbuk_daegu);break;case"chilgok":SEARCH.view.minimap.push(543,SEARCH.STRING.gyeongbuk_daegu);break;case"gyeongnam":SEARCH.view.minimap.push(551,SEARCH.STRING.gyeongnam_busan_ulsan),SEARCH.view.minimap.push(552,SEARCH.STRING.gyeongnam_busan_ulsan),SEARCH.view.minimap.push(553,SEARCH.STRING.gyeongnam_busan_ulsan),SEARCH.view.minimap.push(554,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"busan":SEARCH.view.minimap.push(551,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"ulsan":SEARCH.view.minimap.push(551,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"gimhae":SEARCH.view.minimap.push(551,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"yangsan":SEARCH.view.minimap.push(551,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"tongyeong":SEARCH.view.minimap.push(552,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"changwon":SEARCH.view.minimap.push(553,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"haman":SEARCH.view.minimap.push(553,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"jinju":SEARCH.view.minimap.push(554,SEARCH.STRING.gyeongnam_busan_ulsan);break;case"jeonnam":SEARCH.view.minimap.push(611,SEARCH.STRING.jeonnam_gwangju),SEARCH.view.minimap.push(613,SEARCH.STRING.jeonnam_gwangju);break;case"gwangju":SEARCH.view.minimap.push(611,SEARCH.STRING.jeonnam_gwangju);break;case"damyang":SEARCH.view.minimap.push(611,SEARCH.STRING.jeonnam_gwangju);break;case"yeosu":SEARCH.view.minimap.push(613,SEARCH.STRING.jeonnam_gwangju);break;case"gwangyang":SEARCH.view.minimap.push(613,SEARCH.STRING.jeonnam_gwangju);break;case"suncheon":SEARCH.view.minimap.push(613,SEARCH.STRING.jeonnam_gwangju);break;case"jeonbuk":SEARCH.view.minimap.push(633,SEARCH.STRING.jeonbuk),SEARCH.view.minimap.push(634,SEARCH.STRING.jeonbuk);break;case"gunsan":SEARCH.view.minimap.push(633,SEARCH.STRING.jeonbuk);break;case"iksan":SEARCH.view.minimap.push(633,SEARCH.STRING.jeonbuk);break;case"gimje":SEARCH.view.minimap.push(633,SEARCH.STRING.jeonbuk);break;case"jeonju":SEARCH.view.minimap.push(634,SEARCH.STRING.jeonbuk);break;case"wanju":SEARCH.view.minimap.push(634,SEARCH.STRING.jeonbuk);break;case"jeju":SEARCH.view.minimap.push(641,SEARCH.STRING.jeju)}},getLocation:function(){var a=window.location.href.split("lo=")[1];return void 0!==window.location.href.split("lo=")[1]&&(a=window.location.href.split("lo=")[1].split("&")[0]),a}},SEARCH.view={calendar:{drawDatePicker:function(){var a=new Date(SERVER.time),b=a.getDate(),c=a.getMonth()%12,d=a.getFullYear();$("#calendar").datepicker({minDate:new Date(d,c,b-1),maxDate:new Date(d,c,b+29),dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesMin:["일","월","화","수","목","금","토"],dayNamesShort:["일","월","화","수","목","금","토"],monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],altFormat:"yy-mm-dd",inline:!1,onSelect:function(a,b){startSearch()},beforeShowDay:function(a){return[!0,"datepicker-color-handle"]}})},redefineUpdate:function(){var a=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(b){a.apply(this,[b])}}},minimap:{create:function(){guArr=[0,0,0,0,0,0,0,0],$("#maps").html('<div id="minimapHolder"></div>'),$("#minimapHolder").html('<div id="circle" style="position:absolute;top:75px;left:75px;z-index: 1;width:150px;height:150px;background:rgba(5, 0, 226, 0.15); -webkit-border-radius:100px;-moz-border-radius: 100px;pointer-events: none;border-radius:100px;"></div>'),$("#minimapHolder").append('<select id="sido" style="width:80px;position:absolute;top:10px;left:0px;z-index: 4;"/>'),$("#minimapHolder").append('<select id="sigungu" style="width:80px;position:absolute;top:10px;left:85px;z-index: 4;"/>'),$("#minimapHolder").append('<div id="miniInfo"><div id="miniInfoText" class="gps_radius">반경 36.6km</div><hr/>지역과 범위를 설정하여 <br/>원하는 지역을 선택하세요</div>');var a=function(a,b){if(!(b.length<=0)){$("#"+a).empty();for(var c=0;c<b.length;c++){var d=document.createElement("option");d.innerHTML=b[c].code,d.value=b[c].name,"undefined"!=typeof b[c].longitude&&(d.setAttribute("longitude",b[c].longitude),d.setAttribute("latitude",b[c].latitude)),$("#"+a).append(d)}}};a("sido",SEARCH.sidoArray),$.ajax({contentType:"application/json",dataType:"json",type:"GET",url:"/api/v1/common/getAddressSigungu",success:function(c){SEARCH.sigunguArray=c,a("sigungu",SEARCH.sigunguArray.filter(b))},error:function(){}});var b=function(a){return a.sido==$("#sido").val()};$("#sido").change(function(){a("sigungu",SEARCH.sigunguArray.filter(b))}),$("#sigungu").change(function(){SEARCH.searchMap.setCenter(new naver.maps.LatLng($("#sigungu option:selected").attr("latitude"),$("#sigungu option:selected").attr("longitude")))}),SEARCH.searchMap=new naver.maps.Map("minimapHolder",{useStyleMap:!0,point:new naver.maps.LatLng(37.5675451,126.9773356),zoom:8,enableWheelZoom:!0,enableDragPan:!0,enableDblClickZoom:!1,mapMode:0,activateTrafficMap:!1,activateBicycleMap:!1,minMaxLevel:[3,7],size:new naver.maps.Size(300,300),detectCoveredMarker:!0});var c,d=function(){$("#circle").stop().animate({"background-color":"rgba(5, 0, 226, 0.15)"},1500),clearTimeout(c),c=setTimeout(f,1e3)},e=function(){$("#circle").stop(),$("#circle").css("background-color","rgba(226, 0, 33, 0.15)")},f=function(){var a=SEARCH.searchMap.getCenter(),b=parseFloat((204.8/Math.pow(2,parseInt(SEARCH.searchMap.getLevel()))*3/2).toFixed(1));$("#miniInfoText").html("반경 "+b+"km"),SEARCH.gps={latitude:a.y,longitude:a.x,searchDistance:b},startSearch(),$.ajax({contentType:"application/json",dataType:"json",type:"GET",url:"/api/v1/common/gpsToAddress/"+a.x+","+a.y+"/"+b+"/"+SERVER.service,success:function(a){a.result.items.length>0&&($("#sido").val(a.result.items[0].addrdetail.sido),$("#sido").trigger("change"),$("#sigungu").val(a.result.items[0].addrdetail.sigugun),0==$("#sigungu option:selected").length&&$("#sigungu").val(a.result.items[0].addrdetail.sigugun.replace(" "+a.result.items[0].addrdetail.sigugun.split(/[, ]+/).pop(-1),"")))},error:function(){}})};SEARCH.searchMap.attach("dragstart",e),SEARCH.searchMap.attach("dragend",d),SEARCH.searchMap.attach("zoom",function(){$("#circle").stop(),$("#circle").css("background-color","rgba(226, 0, 33, 0.15)"),d()})},boundaryCheck:function(a,b,c,d,e,f){return(.103*f-.091*f)/(.553*e-.693*e)*(.553*e+c-a)-(.103*f+d-b)>0&&(.091*f-.295*f)/(.693*e-.773*e)*(.693*e+c-a)-(.091*f+d-b)>0&&(.295*f-.422*f)/(.773*e-.597*e)*(.773*e+c-a)-(.295*f+d-b)<0&&(.422*f-.361*f)/(.597*e-.527*e)*(.597*e+c-a)-(.422*f+d-b)<0&&(.361*f-.103*f)/(.527*e-.553*e)*(.527*e+c-a)-(.361*f+d-b)>0?201:(.563*f-.422*f)/(.58*e-.587*e)*(.58*e+c-a)-(.563*f+d-b)>0&&(.422*f-.307*f)/(.587*e-.74*e)*(.587*e+c-a)-(.422*f+d-b)>0&&(.307*f-.522*f)/(.74*e-.757*e)*(.74*e+c-a)-(.307*f+d-b)>0&&(.522*f-.62*f)/(.757*e-.687*e)*(.757*e+c-a)-(.522*f+d-b)<0&&(.62*f-.563*f)/(.687*e-.58*e)*(.687*e+c-a)-(.62*f+d-b)<0?202:(.649*f-.522*f)/(.697*e-.757*e)*(.697*e+c-a)-(.649*f+d-b)>0&&(.522*f-.465*f)/(.757*e-.833*e)*(.757*e+c-a)-(.522*f+d-b)>0&&(.465*f-.547*f)/(.833*e-.867*e)*(.833*e+c-a)-(.465*f+d-b)>0&&(.547*f-.751*f)/(.867*e-.807*e)*(.867*e+c-a)-(.547*f+d-b)<0&&(.751*f-.649*f)/(.807*e-.697*e)*(.807*e+c-a)-(.751*f+d-b)<0?203:(.673*f-.588*f)/(.513*e-.587*e)*(.513*e+c-a)-(.673*f+d-b)>0&&(.588*f-.633*f)/(.587*e-.68*e)*(.587*e+c-a)-(.588*f+d-b)>0&&(.633*f-.706*f)/(.68*e-.7*e)*(.68*e+c-a)-(.633*f+d-b)>0&&(.706*f-.833*f)/(.7*e-.527*e)*(.7*e+c-a)-(.706*f+d-b)<0&&(.833*f-.673*f)/(.527*e-.513*e)*(.527*e+c-a)-(.833*f+d-b)<0||(.833*f-.706*f)/(.527*e-.7*e)*(.527*e+c-a)-(.833*f+d-b)>0&&(.706*f-.776*f)/(.7*e-.797*e)*(.7*e+c-a)-(.706*f+d-b)>0&&(.776*f-.931*f)/(.797*e-.64*e)*(.797*e+c-a)-(.776*f+d-b)<0&&(.931*f-.833*f)/(.64*e-.527*e)*(.64*e+c-a)-(.931*f+d-b)<0?204:(.637*f-.678*f)/(.443*e-.51*e)*(.443*e+c-a)-(.637*f+d-b)>0&&(.678*f-.849*f)/(.51*e-.513*e)*(.51*e+c-a)-(.678*f+d-b)>0&&(.849*f-.914*f)/(.513*e-.373*e)*(.513*e+c-a)-(.849*f+d-b)<0&&(.914*f-.808*f)/(.373*e-.34*e)*(.373*e+c-a)-(.914*f+d-b)<0&&(.808*f-.637*f)/(.34*e-.443*e)*(.34*e+c-a)-(.808*f+d-b)>0?205:(.482*f-.384*f)/(.093*e-.157*e)*(.093*e+c-a)-(.482*f+d-b)>0&&(.384*f-.498*f)/(.157*e-.267*e)*(.157*e+c-a)-(.384*f+d-b)>0&&(.498*f-.559*f)/(.267*e-.2*e)*(.267*e+c-a)-(.498*f+d-b)<0&&(.559*f-.567*f)/(.2*e-.147*e)*(.2*e+c-a)-(.559*f+d-b)<0&&(.567*f-.482*f)/(.147*e-.093*e)*(.147*e+c-a)-(.567*f+d-b)<0||(.559*f-.498*f)/(.2*e-.267*e)*(.2*e+c-a)-(.559*f+d-b)>0&&(.498*f-.6*f)/(.267*e-.44*e)*(.267*e+c-a)-(.498*f+d-b)>0&&(.6*f-.796*f)/(.44*e-.333*e)*(.44*e+c-a)-(.6*f+d-b)<0&&(.796*f-.75*f)/(.333*e-.2*e)*(.333*e+c-a)-(.796*f+d-b)<0&&(.75*f-.559*f)/(.2*e-.201*e)*(.2*e+c-a)-(.75*f+d-b)>0?206:(.241*f-.212*f)/(.373*e-.457*e)*(.373*e+c-a)-(.241*f+d-b)>0&&(.212*f-.286*f)/(.457*e-.467*e)*(.457*e+c-a)-(.212*f+d-b)>0&&(.286*f-.58*f)/(.467*e-.44*e)*(.467*e+c-a)-(.286*f+d-b)<0&&(.58*f-.465*f)/(.44*e-.27*e)*(.44*e+c-a)-(.58*f+d-b)<0&&(.465*f-.241*f)/(.27*e-.373*e)*(.27*e+c-a)-(.465*f+d-b)>0?207:(.31*f-.29*f)/(.453*e-.527*e)*(.453*e+c-a)-(.31*f+d-b)>0&&(.29*f-.498*f)/(.527*e-.607*e)*(.527*e+c-a)-(.29*f+d-b)>0&&(.498*f-.657*f)/(.607*e-.52*e)*(.607*e+c-a)-(.498*f+d-b)<0&&(.657*f-.58*f)/(.52*e-.44*e)*(.52*e+c-a)-(.657*f+d-b)<0&&(.58*f-.31*f)/(.44*e-.453*e)*(.44*e+c-a)-(.58*f+d-b)>0?208:(.455*f-.34*f)/(.84*e-.993*e)*(.84*e+c-a)-(.455*f+d-b)>0&&(.99*f-.787*f)/(.887*e-.8*e)*(.887*e+c-a)-(.99*f+d-b)<0?312:(.1*f-.855*f)/(.507*e-.507*e)*(.507*e+c-a)-(.1*f+d-b)>0&&(.99*f-.787*f)/(.887*e-.8*e)*(.887*e+c-a)-(.99*f+d-b)>0?313:(.1*f-.855*f)/(.507*e-.507*e)*(.507*e+c-a)-(.1*f+d-b)<0&&(.953*f-.745*f)/(0*e-.19*e)*(0*e+c-a)-(.953*f+d-b)>0?314:(.371*f-.249*f)/(.149*e-0*e)*(.149*e+c-a)-(.371*f+d-b)>0&&(.953*f-.745*f)/(0*e-.19*e)*(0*e+c-a)-(.953*f+d-b)<0?315:(.371*f-.249*f)/(.149*e-0*e)*(.149*e+c-a)-(.371*f+d-b)<0&&(.112*f-0*f)/(.55*e-.55*e)*(.55*e+c-a)-(.112*f+d-b)>0?316:10},push:function(a,b){if(a!=-1&&"etc"!=b){if(0===$("."+a+"Map").remove().length)SEARCH.tags.push({action:"minimap",string:b[a%10-1],locaNum:a,remove:function(){$("#minimapHolder>img.mapFocus."+a+"Map").remove();for(var c=0;c<SEARCH.tags.length;c++)if(SEARCH.tags[c].string==b[a%10-1]){SEARCH.tags.splice(c,1);break}}});else for(var c=0;c<SEARCH.tags.length;c++)if(SEARCH.tags[c].string==b[a%10-1]){SEARCH.tags.splice(c,1);break}startSearch()}}},ad:{gen_adSlick:function(a){$(".ad-space").append(a),$("#adSlick.slick").slick({autoplay:!0,autoplaySpeed:5e3,dots:!0,lazyLoad:"ondemand",variableWidth:!1,arrows:!1})}},overlay:{gen_right:function(){$("#rightContainer").append('<div class="loading-inline"><span class="spinner-loader"></span></div>')},rm_right:function(){$("#rightContainer>.loading-inline").remove()},reconnect:function(){$("#rightContainer>.loading-inline").append('<text class="msg">서버에 접속하는 도중 오류가 발생하였습니다.<br /><br />재접속 대기중...</text>')},fail:function(){$("#rightContainer>.loading-inline>.msg").html("서버 연결에 실패했습니다. 잠시 후 다시 시도해 주세요"),$("#rightContainer>.loading-inline>.spinner-loader").remove(),$('<i class="glyphicon glyphicon-refresh"></i>').appendTo("#rightContainer>.loading-inline").click(function(){window.location.reload()})}},search_tag:function(){$("#search_tag").empty();for(var a=0;a<SEARCH.tags.length;a++)$('<button class="btn btn-default btn-primary">'+SEARCH.tags[a].string+' <i class="glyphicon glyphicon-remove"></i></button>').appendTo("#search_tag").click(function(a){return function(b){SEARCH.tags[a].remove(),startSearch()}}(a));a?$("#search_tag").css("display",""):$("#search_tag").css("display","none")}}}function __init_search_local(){SEARCH.view.left_detail=function(){var a='<div class="container-fluid detail"><div class="row"><div class="col-sm-3"><p class="help-block">바닥재</p></div><div class="col-sm-9"><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="floor" value="1">천연잔디</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="floor" value="2">인조잔디</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="floor" value="3">모래</input></label></div></div></div><div class="row"><div class="col-sm-3"></div><div class="col-sm-9"><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="floor" value="4">인도어</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="floor" value="5">우레탄</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="floor" value="6">목재</input></label></div></div></div><div class="row"><div class="col-sm-3"><p class="help-block">부대시설</p></div><div class="col-sm-9"><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="lighting" value="조명" >조명</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="parking" value="주차장">주차장</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="shower" value="샤워실" >샤워실</input></label></div></div></div><div class="row"><div class="col-sm-3"><p class="help-block">규격</p></div><div class="col-sm-9"><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="size" value="5">7 vs 7</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="size" value="6">6 vs 6</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="size" value="7">5 vs 5</input></label></div></div></div><div class="row"><div class="col-sm-3"></div><div class="col-sm-9"><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="size" value="8">4 vs 4</input></label></div><div class="col-sm-4"><label class="checkbox-inline"><input type="checkbox" name="size" value="9">3 vs 3</input></label></div></div></div></div>';$("#detail").append(a).change(function(a){var b,c=$(a.target).val(),d=$(".slider").slider("values");if($(a.target).prop("checked"))switch($(a.target).attr("name")){case"floor":SEARCH.tags.push({action:"floor",string:SEARCH.STRING.floor[c],remove:function(){for($(a.target).prop("checked",!1),b=0;b<SEARCH.tags.length;b++)if(SEARCH.tags[b].string==SEARCH.STRING.floor[c]){SEARCH.tags.splice(b,1);break}}});break;case"size":SEARCH.tags.push({action:"size",string:SEARCH.STRING.size[c]+"인",remove:function(){for($(a.target).prop("checked",!1),b=0;b<SEARCH.tags.length;b++)if(SEARCH.tags[b].string==SEARCH.STRING.size[c]+"인"){SEARCH.tags.splice(b,1);break}}});break;case"lighting":case"parking":case"shower":SEARCH.tags.push({action:"detail",string:c,name:$(a.target).attr("name"),remove:function(){for($(a.target).prop("checked",!1),b=0;b<SEARCH.tags.length;b++)if(SEARCH.tags[b].string==c){SEARCH.tags.splice(b,1);break}}})}else switch($(a.target).attr("name")){case"floor":for(b=0;b<SEARCH.tags.length;b++)if(SEARCH.tags[b].string==SEARCH.STRING.floor[c]){SEARCH.tags.splice(b,1);break}break;case"size":for(b=0;b<SEARCH.tags.length;b++)if(SEARCH.tags[b].string==SEARCH.STRING.size[c]+"인"){SEARCH.tags.splice(b,1);break}break;case"lighting":case"parking":case"shower":for(b=0;b<SEARCH.tags.length;b++)if(SEARCH.tags[b].string==c){SEARCH.tags.splice(b,1);break}break;case"timeSlider":for(d=$(".slider").slider("values"),b=0;b<SEARCH.tags.length;b++)if(SEARCH.tags[b].string==d[0]+"시 ~ "+d[1]+"시"){SEARCH.tags.splice(b,1);break}}startSearch()})},SEARCH.view.card={gen_reserv_table:function(a){function b(a){var b,c,d;for(a+="",c=a.length%3,b=a.length,d=a.substring(0,c);c<b;)""!==d&&(d+=","),d+=a.substring(c,c+3),c+=3;return d}var c,d=0,e=SEARCH.date.getOffset(),f="",g=0,h=31,i=3,j=new Date(SERVER.time);j.setDate(j.getDate()+parseInt(e));for(var k=j.getMonth()+1+"/"+j.getDate()+"/"+j.getFullYear(),l=!1,m=0;d<a.reserv[e].scheduleCount;)c=new Date(k+" "+a.reserv[e][d].sTime+":00"),c=c.getTime(),void 0===a.reserv[e][d].team[0]?parseInt(SERVER.timestamp)+36e5>c?(reserv_time='<td class="time full"><h5>'+a.reserv[e][d].sTime+" ~ "+a.reserv[e][d].eTime+"</h5></td>",team_name='<td class="name full"><h5>예약 불가</h5></td>'):(reserv_time='<td class="time empty"><h5>'+a.reserv[e][d].sTime+" ~ "+a.reserv[e][d].eTime+"</h5></td>",team_name='<td class="name empty"><h5>예약 가능</h5></td>',1!=l&&(m=d,l=!0)):(reserv_time='<td class="time full"><h5>'+a.reserv[e][d].sTime+" ~ "+a.reserv[e][d].eTime+"</h5></td>",2==a.reserv[e][d].team[0].state?team_name='<td class="name full"><h5>'+a.reserv[e][d].team[0].tName+"</h5></td>":team_name='<td class="name full"><h5>예약 진행 중</h5></td>'),f+="<tr>"+reserv_time+'</h5></td><td class="price"><h5>￦ '+b(a.reserv[e][d].price)+"&nbsp</h5></td>"+team_name+"</tr>",d!==a.reserv[e].scheduleCount-1&&(f+='<tr class="spacing"></tr>'),d++;0!=m&&(g=m*(h+i)-h/2);var n={htmlStr:f,scrollMove:g};return n},gen_reserv_card:function(a){f=a;var b="";b+=0!==parseInt(f.pNum)?'<div class="img-holder"><img class="big-img" src="/img/facility/fut/6a1a1f9e0fbb994a17f743c412a74ceb/'+SEARCH.pic[f.fNum][1].pName+'.jpg"/></div>':'<div class="img-holder"><img class="big-img" src="/img/noimage.jpg"/></div>';var c=f.capacity.split("."),d=c[0],e="none";void 0!==c[1]&&(e=parseInt(d)+1);var g="hide";"none"!=e&&(g="");var h=f.temp;"X"!=f.temp&&""!=f.temp||(h="냉난");var i='<div class="row cards rCard"><div class="col-sm-5"><div class="slick">'+b+'</div><div class="row fName"><h4>'+f.fName+'</h4></div></div><div class="col-sm-7 right-note"><div class="row"><div class="col-sm-4 date">'+$.datepicker.formatDate("yy.mm.dd (D)",new Date($("#calendar").val()),{dayNamesShort:["일","월","화","수","목","금","토"]})+'</div><div class="fAddress">'+f.fAddress+'</div></div><div class="row reservation"><div class=""><div class="timetable-container schedule_list table-'+f.fNum+' search-pc"></div><div class="col-xs-12 info fut"><div class="size have"><h6>'+d+"vs"+d+'</h6></div><div class="size2 have '+g+'"><h6>'+parseInt(e)+"vs"+parseInt(e)+'</h6></div><div class="parking '+SEARCH.STRING["class"].parking[f.parking]+'"><h6>주차</h6></div><div class="temp '+SEARCH.STRING["class"].temp[f.temp]+'"><h6>'+h+'방</h6></div><div class="ballrent '+SEARCH.STRING["class"].ballrent[f.ballrent]+'"><h6>공대여</h6></div><div class="vestrent '+SEARCH.STRING["class"].vestrent[f.vestrent]+'"><h6>팀조끼</h6></div><div class="shoesrent '+SEARCH.STRING["class"].shoesrent[f.shoesrent]+'"><h6>풋살화</h6></div><div class="shower '+SEARCH.STRING["class"].shower[f.shower]+'"><h6>샤워실</h6></div></div><!--<table class="table"><tbody class="table_contents_panel"></tbody></table>--></div></div><div class="row bottom"><div class="col-sm-9 info"></div><div class="col-sm-3"><button class="btn btn-default btn-primary" onclick="href_to('+f.fNum+',this)"><span class="glyphicon glyphicon-check"></span>&nbsp&nbsp예 약&nbsp</button></div></div></div></div>',j={htmlStr:i};return j},gen_fac_card:function(a){f=a;for(var b="",c=1;c<=f.pNum;c++)b+='<div class="img-holder"><img class="slick" src="/img/facility/fut/6a1a1f9e0fbb994a17f743c412a74ceb/'+SEARCH.pic[f.fNum][c].pName+'.jpg"/></div>';0===parseInt(f.pNum)&&(b+='<div class="img-holder"><img class="slick" src="/img/noimage.jpg"/></div>');var d=f.capacity.split("."),e=d[0],g="none";void 0!==d[1]&&(g=parseInt(e)+1);var h="";"none"!=g&&(h=", "+g+" vs "+g);var i='<div class="row cards fCard"><div class="col-sm-4 slick">'+b+'</div><div class="col-sm-8 right-note"><div class="row fName"><h4>'+f.fName+"</h4><text>"+f.fAddress+'</text></div><div class="row info fut"><div class="col-sm-3"><img class="'+f.parking+'" src="'+SEARCH.STRING.img.parking[f.parking]+'" alt="'+f.fName+'주차장"></div><div class="col-sm-3"><img class="'+f.temp+'" src="'+SEARCH.STRING.img.temp[f.temp]+'" alt="'+f.fName+'냉난방"></div><div class="col-sm-3"><img class="'+f.shower+'" src="'+SEARCH.STRING.img.shower[f.shower]+'" alt="'+f.fName+'샤워장"></div></div><div class="row bottom"><div class="col-sm-9"><h5>경기장 규격: '+f.size.replace("*","x")+" ( "+e+" vs "+e+h+' 추천 )</h5></div><div class="col-sm-3"><button class="btn btn-default btn-primary" onclick="href_to('+f.fNum+',this)">상세보기</button></div></div></div></div>';return i}},SEARCH.view.cleanup_right=function(){$("#cardHolder").empty()},SEARCH.view.calendar.drawDatePicker(),SEARCH.view.left_detail(),SEARCH.view.overlay.gen_right(),get_facinfo(20).done(initial_search).fail(function(){try_get_facinfo(20)}),bind_scroll_loader(),attach_slider(),attach_adSlick(),navLink(),lazy_get_facinfo()}function attach_toggler(){
$("#detail").css("height","1px").css("width","1px").css("overflow","hidden"),$("#detail-title>span").removeClass("glyphicon-minus").addClass("glyphicon-plus"),$("#calendar-title").click(function(){"close"==SEARCH.toggler.calendar?(SEARCH.toggler.calendar="open",$("#calendarHolder").css("height","").css("width","").css("overflow",""),$("#calendar-title>span").removeClass("glyphicon-plus").addClass("glyphicon-minus")):(SEARCH.toggler.calendar="close",$("#calendarHolder").css("height","1px").css("width","1px").css("overflow","hidden"),$("#calendar-title>span").removeClass("glyphicon-minus").addClass("glyphicon-plus"))}),$("#maps-title").click(function(){"close"==SEARCH.toggler.maps?(SEARCH.toggler.maps="open",$("#maps").css("height","").css("width","").css("overflow",""),$("#maps-title>span").removeClass("glyphicon-plus").addClass("glyphicon-minus")):(SEARCH.toggler.maps="close",$("#maps").css("height","1px").css("width","1px").css("overflow","hidden"),$("#maps-title>span").removeClass("glyphicon-minus").addClass("glyphicon-plus"))}),$("#detail-title").click(function(){"close"==SEARCH.toggler.detail?(SEARCH.toggler.detail="open",$("#detail").css("height","").css("width","").css("overflow",""),$("#detail-title>span").removeClass("glyphicon-plus").addClass("glyphicon-minus")):(SEARCH.toggler.detail="close",$("#detail").css("height","1px").css("width","1px").css("overflow","hidden"),$("#detail-title>span").removeClass("glyphicon-minus").addClass("glyphicon-plus"))}),$("#nmap-title").click(function(){"close"==SEARCH.toggler.nmap?(SEARCH.toggler.nmap="open",$("#nmap").css("height","300px").css("width","300px").css("overflow","hidden"),$("#nmap-title>span").removeClass("glyphicon-plus").addClass("glyphicon-minus"),$("#nmap").show()):(SEARCH.toggler.nmap="close",$("#nmap").css("height","1px").css("width","1px").css("overflow","hidden"),$("#nmap-title>span").removeClass("glyphicon-minus").addClass("glyphicon-plus"),$("#nmap").hide())})}function attach_adSlick(){var a='<div id="adSlick" class="slick"><!--<div class="ad-holder"><div class="ad-img redbull_pc" style="background-image:url(\'/img/ad/main/redbull_2_pc.png\');"></div></div><div class="ad-holder"><div class="ad-img covid19_0304_pc" style="background-image:url(\'/img/ad/main/covid19_0401_pc.jpg\');"></div></div><div class="ad-holder"><div class="ad-img" style="background-image:url(\'/img/ad/main/covid19_12_pc.jpg\');"><div class="covid19-12-button"></div></div></div>--><!--<div class="ad-holder"><div class="ad-img s_match_3000" style="background-image:url(\'/img/ad/main/s_match_3000_pc.jpg\');"></div></div>--><!--<div class="ad-holder"><div class="ad-img imgbky-background" style="background-image:url(\'/img/ad/main/imgbky.jpg\');"></div></div>--><!--<div class="ad-holder"><div class="ad-img" style="background-image:url(\'/img/ad/main/app_download_background.jpg\');"><div class="android-button-fut"></div><div class="ios-button-fut"></div></div></div>--><!--<div class="ad-holder"><div class="ad-img" style="background-image:url(\'/img/ad/main/cafe_link.jpg\');"><div class="cafe-button-fut"></div></div></div>--><div class="ad-holder"><div class="ad-img" style="background-image:url(\'/img/ad/main/co_find_fut_2.jpg\');"></div></div></div>';SEARCH.view.ad.gen_adSlick(a),$(".redbull_pc").click(function(){window.open("https://bit.ly/3tl8feZ")}),$(".covid19_0304_pc").click(function(){window.open("http://ncov.mohw.go.kr/regSocdisBoardView.do")}),$(".wadiz-goyang-button").click(function(){window.open("http://bit.ly/30Enu2C")}),$(".cafe-button-fut").click(function(){window.open("http://cafe.naver.com/haha999")}),$(".android-button-fut").click(function(){window.open("https://play.google.com/store/apps/details?id=kr.iamground.android")}),$(".ios-button-fut").click(function(){window.open("https://itunes.apple.com/us/app/%EC%95%84%EC%9D%B4%EC%97%A0%EA%B7%B8%EB%9D%BC%EC%9A%B4%EB%93%9C/id1254343213?l=ko")}),$(".hana-button").click(function(){window.open("https://www.iamground.kr/adpage/hana")})}function getDistanceFromLatLonInKm(a,b,c,d){function e(a){return a*(Math.PI/180)}var f=6371,g=e(c-a),h=e(d-b),i=Math.sin(g/2)*Math.sin(g/2)+Math.cos(e(a))*Math.cos(e(c))*Math.sin(h/2)*Math.sin(h/2),j=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),k=f*j;return k}function get_facinfo(a){var b="",c=(SEARCH.queryString.getLocation(),"");window.location.search.split("?").length>1&&(c=window.location.search.split("?")[1]);var d="";return void 0!=a&&(d="&load=20"),b="/futsal/s/_f.php?"+c+d,$.ajax({url:b,type:"POST",dataType:"json",data:{from:"full_info"},success:function(a){return void 0!==a.ERROR?(alert("잘못된 접근입니다"),void window.location.reload()):(SEARCH.fac=toFacArray(a.fac),SEARCH.pic=toPicArray(a.pic),SEARCH.reserv=toReservArray(a.reserv),void(SEARCH.badge=a.reserv.totalNum))}})}function try_get_facinfo(a){SEARCH.view.overlay.reconnect(),setTimeout(function(){$.when(get_facinfo(a)).done(initial_search).fail(SEARCH.view.overlay.fail)},5e3)}function lazy_get_facinfo(){setTimeout(function(){$.when(get_facinfo()).done(initial_search).fail(SEARCH.view.overlay.fail)},1e3)}function bind_scroll_loader(){$(window).scroll(function(){!SEARCH.scrollIndex||SEARCH.info.length-1<=SEARCH.scrollIndex||$(".cards:last").offset().top-$(window).height()<$(window).scrollTop()&&display_fac_card(SEARCH.scrollIndex)})}function href_to(a,b){b&&$(b).blur(),ga("ec:addProduct",{id:"P"+SERVER.service+a,name:SERVER.service+"_"+a+"_resv",category:"reservation",brand:"iamground",variant:"pc",position:1,dimension1:""}),ga("ec:setAction","click",{list:SERVER.service}),ga("send","pageview");var c=parseInt($(".timetable-container.schedule_list.table-"+a+".search-pc .resv-cal select").val());isNaN(c)&&(c=0),window.open("/futsal/detail/"+a+"?offset="+c)}function navLink(){$("#search").addClass("active"),$("#search").click(function(){window.location.href="/futsal/search"}),$("#team").click(function(){window.location.href="/futsal/team"})}var SEARCH={action:{},view:{},AJAX:{},toggler:{nmap:"open",calendar:"open",maps:"open",tags:"close",detail:"close"},gps:{},sidoArray:[{code:"서울특별시",name:"서울특별시"},{code:"부산광역시",name:"부산광역시"},{code:"대구광역시",name:"대구광역시"},{code:"인천광역시",name:"인천광역시"},{code:"광주광역시",name:"광주광역시"},{code:"대전광역시",name:"대전광역시"},{code:"울산광역시",name:"울산광역시"},{code:"경기도",name:"경기도"},{code:"강원도",name:"강원도"},{code:"충청북도",name:"충청북도"},{code:"충청남도",name:"충청남도"},{code:"전라북도",name:"전라북도"},{code:"전라남도",name:"전라남도"},{code:"경상북도",name:"경상북도"},{code:"경상남도",name:"경상남도"},{code:"제주특별자치도",name:"제주특별자치도"}],sigunguArray:[],searchMap:{}},domain=window.location.href.match(/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i)[1];CORE.toggleScroll(),$(window).ready(function(){register_global(),__init_search()}).resize(function(){CORE.view.setLeftHeight()}),SEARCH.url="/futsal/s/_a.php?value=fName";var attach_slider=function(){$(".time-slider .slider-top").css("display","");var a=function(a){return a<24?a:"익일 "+(a-24)};$(".time-slider .slider").slider({animate:"fast",max:30,min:6,range:!0,values:[6,30],slide:function(b,c){var d=c.values,e=a(d[0])+"시",f=a(d[1])+"시";$(".time-slider .slider-out").html(e+" ~ "+f)},create:function(a,b){},change:function(b,c){for(var d=$(".slider").slider("values"),e=a(d[0])+"시",f=a(d[1])+"시",g=0;g<SEARCH.tags.length;g++)if("timeSlider"==SEARCH.tags[g].action){SEARCH.tags.splice(g,1);break}void 0===d[0]&&void 0===d[1]||6===d[0]&&30===d[1]||SEARCH.tags.push({action:"timeSlider",string:e+" ~ "+f,remove:function(){$(".slider").slider("values",[6,30]),d=$(".slider").slider("values"),$(".time-slider .slider-out").html(e+" ~ "+f);for(var a=0;a<SEARCH.tags.length;a++)if(SEARCH.tags[a].string==e+" ~ "+f){SEARCH.tags.splice(a,1);break}}}),0===d[0]&&24==d[1]?$(".time-slider .slider-out").html(e+" ~ "+f):$(".time-slider .slider-out").html(e+" ~ "+f),startSearch()}})},initial_search=function(){$.when(startSearch()).always(SEARCH.view.overlay.rm_right()),SEARCH.queryString.setLocation()},startSearch=function(){var a=$.Deferred();if(SEARCH.view.cleanup_right(),SEARCH.view.search_tag(),find_info(),NAVER.isActive){if(SEARCH.info.length>300)var b=jQuery.grep(SEARCH.info,function(a,b){return 0!=b&&"O"==a.co});else b=SEARCH.info;NAVER.drawPointers(b)}return display_fac_card(0),a.resolve(),a},lazyNmap=function(){var a=$.Deferred();if(find_info(),NAVER.isActive){if(SEARCH.info.length>300)var b=jQuery.grep(SEARCH.info,function(a,b){return 0!=b&&"O"==a.co});else b=SEARCH.info;NAVER.drawPointers(b)}return a.resolve(),a},display_fac_card=function(a){info=SEARCH.info,info.length?0===info.reservCnt&&0===SEARCH.scrollIndex&&$("#cardHolder").append(zuck.gen_template.notfoundMini("이런!","대관 가능한 구장을 찾을 수 없습니다.")):$("#cardHolder").append(zuck.gen_template.notfound("이런!","조건에 맞는 구장을 찾을 수 없습니다."));var b,c=1,d=1;for(d=SEARCH.scrollIndex+1;d<=info.length-1;d++)if(d=parseInt(d),void 0!==info[d]&&("reserv"==info[d].card?(b=SEARCH.view.card.gen_reserv_card(info[d]),$("#cardHolder").append(b.htmlStr),$(".row.reservation:last").scrollTop(b.scrollMove),CORE.utility.reservation.genTimeTable(info[d],info[d].reserv,SEARCH.date.getOffset(),""),$(".timetable-container.search-pc .resv-schedule .badge-number").off(),$(".timetable-container.search-pc .resv-schedule .time-title").off(),ga("ec:addImpression",{id:"P"+SERVER.service+info[d].fNum,name:SERVER.service+"_"+info[d].fNum+"_resv",category:"reservation",brand:"iamground",variant:"pc",list:SERVER.service,position:1,dimension1:""}),ga("send","pageview")):"firstSearch"==info[d].card?($("#cardHolder").append('<div class="title main-title" style="margin-top:40px;"><h3 class="title-name">시설 정보</h3></div>'),$("#cardHolder").append(SEARCH.view.card.gen_fac_card(info[d]))):$("#cardHolder").append(SEARCH.view.card.gen_fac_card(info[d])),c++,c>5||d>=info.length-1)){SEARCH.scrollIndex=d;break}$("#rightContainer .cards .slick").slick({dots:!0,lazyLoad:"ondemand",variableWidth:!1,autoplay:!1,arrows:!1})},find_info=function(){var info=[],cond_map=[],cond_floor=[],cond_size=[],cond_detail=[],cond_time=[],cond_search=[],arr,str,v=SEARCH.date.getOffset();cond_time.push("(time_check(arr.reserv, "+v+") == 1) || (time_check(arr.reserv, "+v+") == 2)"),SEARCH.scrollIndex=0,SEARCH.info={};for(var same_check={},i=0;i<SEARCH.tags.length;i++)switch(SEARCH.tags[i].action){case"minimap":cond_map.push("arr.sCode=="+SEARCH.tags[i].locaNum);break;case"floor":cond_floor.push("arr.floor=='"+SEARCH.tags[i].string+"'");break;case"size":cond_size.push("arr.size2=="+SEARCH.tags[i].string.match(/\d*/)[0]);break;case"detail":cond_detail.push("arr."+SEARCH.tags[i].name+"=='O'");break;case"timeSlider":break;case"iSearch":str=SEARCH.tags[i].string.replace(/([\[\]\(\)])/g,"\\$1"),cond_search.push("arr.fName.match(/"+str+"/) !== null || arr.fName.replace(/ /g,'').match(/"+str+"/)|| arr.fAddress.match(/"+str+"/) !== null || arr.fAddress.replace(/ /g,'').match(/"+str+"/)")}var condition="("+(cond_map.join("||")||!0)+")&&("+(cond_floor.join("||")||!0)+")&&("+(cond_size.join("||")||!0)+")&&("+(cond_detail.join("&&")||!0)+")&&("+(cond_search.join("&&")||!0)+")&&("+(cond_time.join("&&")||!0)+")",key=0,ord=1,rCnt=0,schKey=1,resvArr=$.map(SEARCH.reserv,function(a,b){return a.basicIndex=parseInt(b),a}),searchArr=$.map(SEARCH.fac,function(a,b){return a.basicIndex=parseInt(b),a});void 0!==SEARCH.gps.longitude&&resvArr.sort(function(a,b){return a.distance=getDistanceFromLatLonInKm(SEARCH.gps.latitude,SEARCH.gps.longitude,parseFloat(a.latitude),parseFloat(a.longitude)),b.distance=getDistanceFromLatLonInKm(SEARCH.gps.latitude,SEARCH.gps.longitude,parseFloat(b.latitude),parseFloat(b.longitude)),"67"==a.fNum||a.distance<b.distance?-1:"67"==b.fNum||a.distance>b.distance?1:a.basicIndex<b.basicIndex?-1:a.basicIndex>b.basicIndex?1:0});for(key in resvArr)arr=resvArr[key],1==arr.sNum.length?arr.sCode="20"+arr.sNum:"20"==arr.sNum.substr(0,2)?arr.sCode="20"+arr.sNum.substr(5,1):"31"==arr.sNum.substr(0,2)?arr.sCode="31"+arr.sNum.substr(2,1):"32"==arr.sNum.substr(0,2)?arr.sCode="315":"41"==arr.sNum.substr(0,2)?arr.sCode="41"+arr.sNum.substr(2,1):"42"==arr.sNum.substr(0,2)?arr.sCode="412":"43"==arr.sNum.substr(0,2)?arr.sCode="43"+arr.sNum.substr(2,1):"51"==arr.sNum.substr(0,2)?arr.sCode="551":"52"==arr.sNum.substr(0,2)?arr.sCode="551":"53"==arr.sNum.substr(0,2)?arr.sCode="542":"54"==arr.sNum.substr(0,2)?arr.sCode="54"+arr.sNum.substr(2,1):"55"==arr.sNum.substr(0,2)?arr.sCode="55"+arr.sNum.substr(2,1):"61"==arr.sNum.substr(0,2)?arr.sCode="61"+arr.sNum.substr(2,1):"62"==arr.sNum.substr(0,2)?arr.sCode="611":"63"==arr.sNum.substr(0,2)?arr.sCode="63"+arr.sNum.substr(2,1):"64"==arr.sNum.substr(0,2)&&(arr.sCode="641"),arr.sCode=parseInt(arr.sCode),void 0!==SEARCH.gps.longitude&&(arr.distance=getDistanceFromLatLonInKm(SEARCH.gps.latitude,SEARCH.gps.longitude,parseFloat(arr.latitude),parseFloat(arr.longitude)),arr.distance>SEARCH.gps.searchDistance)||eval(condition)&&(1==time_check(arr.reserv,v)?(1==ord?(info[ord]=arr,info[ord].card="reserv"):(info.splice(schKey,0,arr),info[schKey].card="reserv"),schKey++):(info[ord]=arr,info[ord].card="reserv"),same_check[arr.fNum]=key,ord++,rCnt++);info.reservCnt=rCnt;var first=0;condition=condition.replace(")&&("+(cond_time.join("&&")||!0),""),void 0!==SEARCH.gps.longitude&&searchArr.sort(function(a,b){return a.distance=getDistanceFromLatLonInKm(SEARCH.gps.latitude,SEARCH.gps.longitude,parseFloat(a.latitude),parseFloat(a.longitude)),b.distance=getDistanceFromLatLonInKm(SEARCH.gps.latitude,SEARCH.gps.longitude,parseFloat(b.latitude),parseFloat(b.longitude)),"67"==a.fNum||a.distance<b.distance?-1:"67"==b.fNum||a.distance>b.distance?1:a.basicIndex<b.basicIndex?-1:a.basicIndex>b.basicIndex?1:0});for(key in searchArr)arr=searchArr[key],1==arr.sNum.length?arr.sCode="20"+arr.sNum:"20"==arr.sNum.substr(0,2)?arr.sCode="20"+arr.sNum.substr(5,1):"31"==arr.sNum.substr(0,2)?arr.sCode="31"+arr.sNum.substr(2,1):"32"==arr.sNum.substr(0,2)?arr.sCode="315":"41"==arr.sNum.substr(0,2)?arr.sCode="41"+arr.sNum.substr(2,1):"42"==arr.sNum.substr(0,2)?arr.sCode="412":"43"==arr.sNum.substr(0,2)?arr.sCode="43"+arr.sNum.substr(2,1):"51"==arr.sNum.substr(0,2)?arr.sCode="551":"52"==arr.sNum.substr(0,2)?arr.sCode="551":"53"==arr.sNum.substr(0,2)?arr.sCode="542":"54"==arr.sNum.substr(0,2)?arr.sCode="54"+arr.sNum.substr(2,1):"55"==arr.sNum.substr(0,2)?arr.sCode="55"+arr.sNum.substr(2,1):"61"==arr.sNum.substr(0,2)?arr.sCode="61"+arr.sNum.substr(2,1):"62"==arr.sNum.substr(0,2)?arr.sCode="611":"63"==arr.sNum.substr(0,2)?arr.sCode="63"+arr.sNum.substr(2,1):"64"==arr.sNum.substr(0,2)&&(arr.sCode="641"),arr.sCode=parseInt(arr.sCode),void 0!==SEARCH.gps.longitude&&(arr.distance=getDistanceFromLatLonInKm(SEARCH.gps.latitude,SEARCH.gps.longitude,parseFloat(arr.latitude),parseFloat(arr.longitude)),arr.distance>SEARCH.gps.searchDistance)||eval(condition)&&void 0===same_check[arr.fNum]&&(info[ord]=arr,0===first?(info[ord].card="firstSearch",first=1):info[ord].card="search",ord++);SEARCH.info=info},time_check=function(a,b){function c(a){return a=a.split(/:/),3600*parseInt(a[0])+60*parseInt(a[1])+parseInt(a[2])}for(var d,e=jQuery.grep(a,function(a,c){return parseInt(a.date_offset)==parseInt(b)}),f=0,g=0,h=$(".slider").slider("values");f<2;)h[f]/10<1&&(h[f]="0"+h[f]),h[f]=h[f]+":00:00",f++;f=0,0!==a.length&&(g=2);var i,j,k;for(f in e)if(i=e[f].start_date,j=e[f].start_time,k=e[f].end_time,d=new Date(i+" "+j+":00"),d=d.getTime(),startSecond=c(j+":00"),endSecond=c(k+":00"),startSecond<21600&&(startSecond+=86400),endSecond<=21600&&(endSecond+=86400),void 0!==e[f]&&c(h[0])<=startSecond&&c(h[1])>=startSecond&&startSecond<endSecond&&d>=parseInt(SERVER.timestamp)+36e5){g=1;break}return g};